#! /usr/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision + 0;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_0x23bad50 .scope module, "TEST" "TEST" 2 1;
 .timescale 0 0;
v0x23d74d0_0 .var "keyEnable", 0 0;
v0x23d7550_0 .net "unlockDoor", 0 0, v0x23d65f0_0; 1 drivers
S_0x23bae40 .scope module, "m" "MAIN" 2 4, 3 1, S_0x23bad50;
 .timescale 0 0;
v0x23d6f30_0 .net "keyEnable", 0 0, v0x23d74d0_0; 1 drivers
v0x23d7000_0 .net "keyPass", 31 0, v0x23d6da0_0; 1 drivers
v0x23d70d0_0 .net "lockPass", 31 0, v0x23d6950_0; 1 drivers
v0x23d71a0_0 .net "newPass", 31 0, v0x23d60a0_0; 1 drivers
v0x23d7220_0 .net "readKey", 0 0, v0x23d64a0_0; 1 drivers
v0x23d72f0_0 .net "readLock", 0 0, v0x23d6540_0; 1 drivers
v0x23d7400_0 .alias "unlockDoor", 0 0, v0x23d7550_0;
S_0x23d6ae0 .scope module, "key" "KEY" 3 23, 4 1, S_0x23bae40;
 .timescale 0 0;
v0x23d6bd0_0 .var/i "i", 31 0;
v0x23d6c50_0 .alias "keyBuffer", 31 0, v0x23d71a0_0;
v0x23d6d20_0 .alias "keyEnable", 0 0, v0x23d6f30_0;
v0x23d6da0_0 .var "keyPass", 31 0;
v0x23d6e80_0 .alias "readKey", 0 0, v0x23d7220_0;
S_0x23d66a0 .scope module, "lock" "LOCK" 3 24, 5 1, S_0x23bae40;
 .timescale 0 0;
v0x23d67e0_0 .var/i "i", 31 0;
v0x23d68a0_0 .alias "lockBuffer", 31 0, v0x23d71a0_0;
v0x23d6950_0 .var "lockPass", 31 0;
v0x23d6a00_0 .alias "readLock", 0 0, v0x23d72f0_0;
E_0x23d6790 .event edge, v0x23d60a0_0;
S_0x23d61e0 .scope module, "passwordCheck" "PASS_CHECK" 3 25, 6 1, S_0x23bae40;
 .timescale 0 0;
v0x23d6340_0 .alias "keyPass", 31 0, v0x23d7000_0;
v0x23d6400_0 .alias "lockPass", 31 0, v0x23d70d0_0;
v0x23d64a0_0 .var "readKey", 0 0;
v0x23d6540_0 .var "readLock", 0 0;
v0x23d65f0_0 .var "unlockDoor", 0 0;
E_0x23d62d0 .event edge, v0x23d6400_0, v0x23d6340_0;
S_0x23bd250 .scope module, "rpg" "RPG" 3 26, 7 1, S_0x23bae40;
 .timescale 0 0;
v0x23acd40_0 .alias "keyEnable", 0 0, v0x23d6f30_0;
v0x23d60a0_0 .var "newPass", 31 0;
v0x23d6140_0 .alias "unlockDoor", 0 0, v0x23d7550_0;
E_0x2396b50 .event edge, v0x23acd40_0;
    .scope S_0x23d6ae0;
T_0 ;
    %set/v v0x23d6bd0_0, 0, 32;
T_0.0 ;
    %load/v 8, v0x23d6bd0_0, 32;
   %cmpi/s 8, 32, 32;
    %jmp/0xz T_0.1, 5;
    %ix/getv/s 1, v0x23d6bd0_0;
    %jmp/1 t_0, 4;
    %ix/load 0, 1, 0;
    %assign/v0/x1 v0x23d6da0_0, 0, 0;
t_0 ;
    %ix/load 0, 1, 0;
    %load/vp0/s 8, v0x23d6bd0_0, 32;
    %set/v v0x23d6bd0_0, 8, 32;
    %jmp T_0.0;
T_0.1 ;
    %end;
    .thread T_0;
    .scope S_0x23d6ae0;
T_1 ;
    %wait E_0x23d6790;
    %load/v 8, v0x23d6e80_0, 1;
    %mov 9, 0, 1;
    %cmpi/u 8, 0, 2;
    %jmp/0xz  T_1.0, 4;
    %set/v v0x23d6bd0_0, 0, 32;
T_1.2 ;
    %load/v 8, v0x23d6bd0_0, 32;
   %cmpi/s 8, 32, 32;
    %jmp/0xz T_1.3, 5;
    %ix/getv/s 1, v0x23d6bd0_0;
    %jmp/1 T_1.4, 4;
    %load/x1p 8, v0x23d6c50_0, 1;
    %jmp T_1.5;
T_1.4 ;
    %mov 8, 2, 1;
T_1.5 ;
; Save base=8 wid=1 in lookaside.
    %ix/getv/s 1, v0x23d6bd0_0;
    %jmp/1 t_1, 4;
    %ix/load 0, 1, 0;
    %assign/v0/x1 v0x23d6da0_0, 0, 8;
t_1 ;
    %ix/load 0, 1, 0;
    %load/vp0/s 8, v0x23d6bd0_0, 32;
    %set/v v0x23d6bd0_0, 8, 32;
    %jmp T_1.2;
T_1.3 ;
T_1.0 ;
    %jmp T_1;
    .thread T_1, $push;
    .scope S_0x23d66a0;
T_2 ;
    %set/v v0x23d67e0_0, 0, 32;
T_2.0 ;
    %load/v 8, v0x23d67e0_0, 32;
   %cmpi/s 8, 32, 32;
    %jmp/0xz T_2.1, 5;
    %ix/getv/s 1, v0x23d67e0_0;
    %jmp/1 t_2, 4;
    %ix/load 0, 1, 0;
    %assign/v0/x1 v0x23d6950_0, 0, 0;
t_2 ;
    %ix/load 0, 1, 0;
    %load/vp0/s 8, v0x23d67e0_0, 32;
    %set/v v0x23d67e0_0, 8, 32;
    %jmp T_2.0;
T_2.1 ;
    %end;
    .thread T_2;
    .scope S_0x23d66a0;
T_3 ;
    %wait E_0x23d6790;
    %load/v 8, v0x23d6a00_0, 1;
    %mov 9, 0, 1;
    %cmpi/u 8, 0, 2;
    %jmp/0xz  T_3.0, 4;
    %set/v v0x23d67e0_0, 0, 32;
T_3.2 ;
    %load/v 8, v0x23d67e0_0, 32;
   %cmpi/s 8, 32, 32;
    %jmp/0xz T_3.3, 5;
    %ix/getv/s 1, v0x23d67e0_0;
    %jmp/1 T_3.4, 4;
    %load/x1p 8, v0x23d68a0_0, 1;
    %jmp T_3.5;
T_3.4 ;
    %mov 8, 2, 1;
T_3.5 ;
; Save base=8 wid=1 in lookaside.
    %ix/getv/s 1, v0x23d67e0_0;
    %jmp/1 t_3, 4;
    %ix/load 0, 1, 0;
    %assign/v0/x1 v0x23d6950_0, 0, 8;
t_3 ;
    %ix/load 0, 1, 0;
    %load/vp0/s 8, v0x23d67e0_0, 32;
    %set/v v0x23d67e0_0, 8, 32;
    %jmp T_3.2;
T_3.3 ;
T_3.0 ;
    %jmp T_3;
    .thread T_3, $push;
    .scope S_0x23d61e0;
T_4 ;
    %wait E_0x23d62d0;
    %vpi_call 6 12 "$display", "Current Password in Key = %d", v0x23d6340_0;
    %vpi_call 6 13 "$display", "Current Password in Lock = %d", v0x23d6400_0;
    %load/v 8, v0x23d6340_0, 32;
    %load/v 40, v0x23d6400_0, 32;
    %cmp/u 8, 40, 32;
    %jmp/0xz  T_4.0, 4;
    %set/v v0x23d65f0_0, 1, 1;
    %set/v v0x23d6540_0, 0, 1;
    %set/v v0x23d64a0_0, 0, 1;
    %vpi_call 6 19 "$display", "The passwords match! Updating the passwords...\012\012";
    %jmp T_4.1;
T_4.0 ;
    %vpi_call 6 23 "$display", "The passwords donot match!";
    %set/v v0x23d65f0_0, 0, 1;
    %set/v v0x23d6540_0, 1, 1;
    %set/v v0x23d64a0_0, 1, 1;
T_4.1 ;
    %jmp T_4;
    .thread T_4, $push;
    .scope S_0x23bd250;
T_5 ;
    %wait E_0x2396b50;
    %load/v 8, v0x23d6140_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %mov 8, 4, 1;
    %load/v 9, v0x23acd40_0, 1;
    %mov 10, 0, 2;
    %cmpi/u 9, 1, 3;
    %mov 9, 4, 1;
    %and 8, 9, 1;
    %jmp/0xz  T_5.0, 8;
    %vpi_func 7 9 "$random", 8, 32;
    %set/v v0x23d60a0_0, 8, 32;
    %vpi_call 7 10 "$display", "Passwords have been updated.";
T_5.0 ;
    %jmp T_5;
    .thread T_5, $push;
    .scope S_0x23bae40;
T_6 ;
    %delay 50, 0;
    %load/v 8, v0x23d7400_0, 1;
    %mov 9, 0, 1;
    %cmpi/u 8, 0, 2;
    %jmp/0xz  T_6.0, 4;
    %vpi_call 3 19 "$display", "Wrong Password! Thief!! Help!!";
T_6.0 ;
    %vpi_call 3 20 "$finish";
    %end;
    .thread T_6;
    .scope S_0x23bad50;
T_7 ;
    %set/v v0x23d74d0_0, 1, 1;
    %movi 8, 20, 6;
T_7.0 %cmp/s 0, 8, 6;
    %jmp/0xz T_7.1, 5;
    %add 8, 1, 6;
    %delay 5, 0;
    %load/v 14, v0x23d74d0_0, 1;
    %inv 14, 1;
    %set/v v0x23d74d0_0, 14, 1;
    %jmp T_7.0;
T_7.1 ;
    %end;
    .thread T_7;
    .scope S_0x23bad50;
T_8 ;
    %wait E_0x2396b50;
    %vpi_call 2 14 "$display", "keyEnable = %b \011unlockDoor = %b", v0x23d74d0_0, v0x23d7550_0;
    %jmp T_8;
    .thread T_8, $push;
# The file index is used to find the file name in the following table.
:file_names 8;
    "N/A";
    "<interactive>";
    "TEST.v";
    "MAIN.v";
    "KEY.v";
    "LOCK.v";
    "PASS_CHECK.v";
    "RPG.v";
